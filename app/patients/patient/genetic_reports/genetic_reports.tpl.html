<div>
    <div class="block">
        <div class="block-header">
            <div class="block-header-buttons">
                <button class="btn btn-action" ng-click="addGeneMutation()"><i class="icon icon-plus-sign"></i> Add</button>
            </div>
            <h2>Genetic Report</h2>
        </div>
        <div class="block-content">
            <div ng-show="!geneMutations.length" class="nodata">
                No genetic reports recorded.
            </div>
            <table class="table" ng-show="geneMutations.length">
                <tr ng-show="geneMutations[0].id">
                    <th>Name</th>
                    <th>Gene</th>
                    <th>Mutation Type</th>
                    <th>Pathogenicity</th>
                    <th></th>
                </tr>
                <tbody ng-repeat="geneMutation in geneMutations" cm-resource="geneMutation" remove-fn="removeGeneMutation(geneMutation)">
                    <tr ng-show="$isEditing" class="is-editing">
                        <td colspan="5" class="is-editing">
                            <div class="resource-block">
                                <div class="resource-block-element">
                                    <label class="label-top resource-block-heading">
                                        Mutation Description
                                    </label>

                                    <input type="text" ng-model="geneMutation.name"
                                           placeholder="Enter mutation description in HGVS nomenclature (Example: AB026906.1:c.274G>T)"/>
                                </div>
                                <div class="resource-block-element">
                                    <label class="label-top resource-block-heading">
                                        Gene
                                    </label>
                                    <typeahead multi="false" model="geneMutation.gene" options-fn="findGene(value)" token-chosen-fn="geneChosen(token, geneMutation)" placeholder="What gene is affected?"></typeahead>
                                </div>
                                <div class="resource-block-element">
                                    <label class="label-top resource-block-heading">
                                        Mutation Type
                                    </label>
                                    <typeahead multi="false" model="geneMutation.mutation_type" placeholder="What is the type of the mutation?" options-fn="findMutationType(value)" token-chosen-fn="mutationTypeChosen(token, geneMutation)"></typeahead>
                                </div>
                                <div class="resource-block-element">
                                    <label class="label-top resource-block-heading">
                                        Pathogenicity
                                    </label>
                                    <select ng-model="geneMutation.pathogenic">
                                        <option value="Definitively Pathogenic">Definitively Pathogenic</option>
                                        <option value="Likely Pathogenic">Likely Pathogenic</option>
                                        <option value="Uncertain">Uncertain</option>
                                        <option value="Likely Not Pathogenic">Likely Not Pathogenic</option>
                                        <option value="Not Pathogenic">Not Pathogenic</option>
                                    </select>
                                </div>
                            </div>
                            <div class="resource-block">
                                <cm-save-cancel></cm-save-cancel>
                            </div>
                        </td>
                    </tr>
                    <tr ng-show="!$isEditing">
                        <td>{{ geneMutation.name }}</td>
                        <td>{{ geneMutation.gene.name }}</td>
                        <td>{{ geneMutation.mutation_type.name }}</td>
                        <td>{{ geneMutation.pathogenic }}</td>
                        <td>
                            <cm-edit-delete edit-enabled="false"></cm-edit-delete>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
