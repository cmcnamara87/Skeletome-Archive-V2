<div>
    <div class="block">
        <div class="block-header">
            <h2>Summary</h2>
        </div>
        <div class="block-content">
            <div cm-resource="patient">
                <cm-display>
                    <div class="resource-controls">
                        <cm-edit-delete></cm-edit-delete>
                    </div>

                    <mentions text="patient.clinical_summary" mentions="patient.mentions"></mentions>

                </cm-display>
                <cm-edit>

                    <div>
                        <textarea style="width: 100%; height: 500px;" ck-editor ng-model="patient.clinical_summary" placeholder="Write a clinical summary for this patient"></textarea>
                    </div>


                    <div class="resource-block">
                        <cm-save-cancel></cm-save-cancel>
                    </div>
                </cm-edit>
            </div>
        </div>
    </div>
    <div class="block">
        <div class="block-header">
            <h2>HPO Terms</h2>
            <div class="block-header-buttons">
                <button ng-click="addPatientHPO()" class="btn btn-action">Add</button>
            </div>

        </div>
        <div class="block-content">
            <div ng-repeat="patientHPO in patientHPOs">
                <div cm-resource="patientHPO" remove-fn="removePatientHPO(patientHPO)">
                    <cm-display>
                        <div class="resource-controls">
                            <cm-edit-delete edit-enabled="false"></cm-edit-delete>
                        </div>
                        <div class="resource-block">
                            {{ patientHPO.hpo.name }}
                        </div>
                    </cm-display>

                    <cm-edit>
                        <div class="resource-block">
                            <div class="resource-block-element">
                                <label class="label-top resource-block-heading">HPO Term</label>
                                <typeahead model="test" options-fn="findHPO(value)" multi="false" token-chosen-fn="hpoChosen(token, patientHPO)"></typeahead>
                            </div>
                        </div>
                        <div class="resource-block">
                            <cm-save-cancel></cm-save-cancel>
                        </div>
                    </cm-edit>
                </div>
            </div>
        </div>
    </div>
</div>


<!--<div>-->
    <!--<div class="header">-->
        <!--<div class="header-title">-->
            <!--Case Information-->
        <!--</div>-->
    <!--</div>-->

    <!--<div class="content-box row">-->
        <!--<div class="col-md-7">-->

            <!--<div class="content-section">-->
                <!--<div class="content-heading">-->
                    <!--Clinical Summary-->
                <!--</div>-->
                <!--<div class="content-content">-->

                <!--</div>-->
            <!--</div>-->

            <!--<div class="content-section">
                <div class="content-heading">
                    X-Rays
                    <div class="content-heading-buttons">
                        <button class="btn btn-action">Add</button>
                    </div>
                </div>
                <div class="content-content">
                    <div ng-repeat="xray in xrays">
                        <div cm-resource="xray">
                            <cm-display>
                                <cm-edit-delete></cm-edit-delete>
                                <pre>
                                    {{ xray | json }}
                                </pre>
                            </cm-display>
                        </div>
                    </div>
                </div>
            </div>

            <div class="content-section">
                <div class="content-heading">
                    Genetic Reports
                    <div class="content-heading-buttons">
                        <button class="btn btn-action">Add</button>
                    </div>
                </div>
                <div class="content-content">
                    <div ng-repeat="mutation in mutations">
                        <div cm-resource="mutation">
                            <cm-display>
                                <cm-edit-delete></cm-edit-delete>
                                <pre>
                                    {{ mutation | json }}
                                </pre>
                            </cm-display>
                        </div>
                    </div>
                </div>
            </div>

            <div class="content-section">
                <div class="content-heading">
                    Diagnoses
                    <div class="content-heading-buttons">
                        <button class="btn btn-action">Add</button>
                    </div>
                </div>
                <div class="content-content">
                    <div ng-repeat="diagnosis in diagnoses">
                        <div cm-resource="diagnosis">
                            <cm-display>
                                <cm-edit-delete></cm-edit-delete>
                                <pre>
                                    {{ diagnosis | json }}
                                </pre>
                            </cm-display>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
